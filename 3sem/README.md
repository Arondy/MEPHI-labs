# Лабораторные работы по программированию на C++ (3 семестр)

В этом репозитории собраны лабораторные работы, выполненные в течение третьего семестра по программированию на языке C++.

## Структура репозитория

- `lab1/` - Лабораторная работа 1: Работа с разреженными матрицами
- `lab2/` - Лабораторная работа 2: Карточная игра (работа с классами и наследованием)
- `lab3/` - Лабораторная работа 3: Игра (шахматы) с графическим интерфейсом (SFML)
- `ekz/` - Материалы для подготовки к экзамену

## Подробное описание лабораторных работ

### Лабораторная работа 1: Разреженные матрицы
- **Файлы:**
  - `main.cpp` - основная программа
  - `matrix.h`, `matrix.cpp` - реализация разреженной матрицы
  - `menu.h`, `menu.cpp` - пользовательский интерфейс
- **Описание:** Реализация работы с разреженными матрицами в формате CRS (Compressed Row Storage)
- **Функциональность:**
  - Ввод/вывод матрицы
  - Обработка матрицы (сортировка строк по количеству ненулевых элементов)
  - Эффективное хранение разреженных данных

### Лабораторная работа 2: Карточная игра
- **Файлы:**
  - `main.cpp` - основная программа
  - `cards/` - реализация карт и колоды
    - `cards.h`, `cards.cpp` - класс карты
    - `cards_pile.h`, `cards_pile.cpp` - класс колоды карт
  - `menu.h`, `menu.cpp` - пользовательский интерфейс
  - `tests/` - модульные тесты
- **Описание:** Реализация карточной игры с использованием ООП
- **Функциональность:**
  - Создание и тасовка колоды карт
  - Раздача карт
  - Игровая логика
  - Модульное тестирование

### Лабораторная работа 3: Игра (шахматы) с графическим интерфейсом

#### Основные файлы
- `main.cpp` - Точка входа в приложение, инициализация игрового цикла и основных компонентов
- `mainRelease.cpp` - Альтернативная точка входа для релизной версии приложения

#### Директория `figures/`
Содержит реализацию шахматных фигур и их поведения
- `figures.h` и `figures.cpp` - Базовый класс `Figure` и его наследники для всех шахматных фигур (пешка, конь, слон, ладья, ферзь, король)
  - `Figure` - абстрактный базовый класс для всех шахматных фигур
  - `Pawn`, `Knight`, `Bishop`, `Rook`, `Queen`, `King` - конкретные классы фигур с реализацией их специфических ходов
  - Вспомогательные функции для проверки ходов и атак

#### Директория `game_components/`
Содержит базовые игровые компоненты
- `square.h` - Представление шахматной клетки с координатами (ряд, колонка)
- `player.h` - Базовый класс игрока с информацией о цвете и времени
- `clock.h` и `clock.cpp` - Игровые часы с функционалом отслеживания времени на ход
- `history.h` и `history.cpp` - Ведение истории ходов и функционал отмены/повтора ходов

#### Директория `game_graphics/`
Содержит компоненты графического интерфейса
- `gameRender.h` и `gameRender.cpp` - Основной класс для рендеринга игрового интерфейса
  - Отрисовка шахматной доски и фигур
  - Обработка пользовательского ввода
  - Отображение игрового меню и состояний игры
- `gameRenderRelease.cpp` - Оптимизированная версия рендеринга для релизной сборки
- `fonts/` - Шрифты для отображения текста
- `textures/` - Графические ресурсы для фигур и элементов интерфейса

#### Директория `game_state/`
Управление состоянием игры
- `GameState.h` и `GameState.cpp` - Класс, управляющий состоянием шахматной партии
  - Хранение позиций фигур
  - Проверка правил шахмат (шах, мат, пат)
  - Обработка специальных ходов (рокировка, взятие на проходе)
  - Управление очередностью ходов
- `saves/` - Директория для сохраненных игр

#### Директория `json_lib/`
Библиотека для работы с JSON
- `json.hpp` - Полнофункциональная библиотека для работы с JSON в C++
- `json_fwd.hpp` - Форвард-заголовок для ускорения компиляции

#### Директория `vector/`
Собственная реализация контейнера vector
- `vector.h` - Полноценная реализация шаблонного класса vector с поддержкой стандартных операций

#### Директория `tests/`
Содержит модульные тесты для проверки корректности работы компонентов

#### Директория `App/`
Содержит скомпилированные исполняемые файлы и ресурсы
- Исполняемый файл игры
- Необходимые динамические библиотеки (DLL)
- Шрифты и текстуры
- Примеры сохраненных игр

## Требования

- Компилятор C++ с поддержкой стандарта C++20
- CMake 3.22 или выше
- [SFML 2.5.1](https://www.sfml-dev.org/download.php) или выше (требуется для lab3)
- [TGUI 0.8](https://tgui.eu/) или выше (требуется для lab3)
- [nlohmann JSON](https://github.com/nlohmann/json) (уже включена в проект)

## Сборка и запуск

Каждая лабораторная работа содержит файл CMakeLists.txt для сборки с помощью CMake.

### Сборка lab1 и lab2:
```bash
mkdir build
cd build
cmake ..
make
```

### Сборка lab3:
Проект использует CMake для автоматического поиска зависимостей. Сборка может быть выполнена следующими способами:

#### Способ 1: С автоматическим поиском зависимостей (рекомендуется)
Если SFML и TGUI лежат в папке с проектом:
```bash
mkdir build
cd build
cmake .. -DCMAKE_BUILD_TYPE=Debug  # или Release
make
```

#### Способ 2: С указанием путей к зависимостям
Если зависимости установлены в нестандартные пути:
```bash
mkdir build
cd build
cmake .. -DCMAKE_BUILD_TYPE=Debug \
         -DSFML_DIR=/путь/к/sfml/lib/cmake/SFML \
         -DTGUI_DIR=/путь/к/tgui/lib/cmake/TGUI
make
```

#### Особенности сборки:
- Для релизной сборки используйте `-DCMAKE_BUILD_TYPE=Release`
- Проект автоматически подключает все необходимые зависимости через CMake
- Включенная в проект библиотека nlohmann JSON не требует дополнительной установки
- Библиотека `figures` компилируется как динамическая библиотека (DLL) и автоматически подключается к основному проекту. Скомпилированная библиотека `libfigures.dll` и её импортная библиотека `libfigures.dll.a` размещаются в подкаталоге `libs/` в директории сборки.

### Установка зависимостей

#### Ubuntu/Debian:
```bash
sudo apt-get install libsfml-dev libtgui-dev
```